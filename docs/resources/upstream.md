---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "apisix_upstream Resource - terraform-provider-apisix"
subcategory: ""
description: |-
  
---

# apisix_upstream (Resource)





<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- **checks** (Attributes) (see [below for nested schema](#nestedatt--checks))
- **desc** (String)
- **discovery_type** (String)
- **hash_on** (String)
- **keepalive_pool** (Attributes) (see [below for nested schema](#nestedatt--keepalive_pool))
- **labels** (Map of String)
- **name** (String)
- **nodes** (Attributes List) (see [below for nested schema](#nestedatt--nodes))
- **pass_host** (String)
- **retries** (Number)
- **retry_timeout** (Number)
- **scheme** (String)
- **service_name** (String)
- **timeout** (Attributes) (see [below for nested schema](#nestedatt--timeout))
- **tls** (Attributes) (see [below for nested schema](#nestedatt--tls))
- **type** (String)
- **upstream_host** (String)

### Read-Only

- **id** (String) The ID of this resource.

<a id="nestedatt--checks"></a>
### Nested Schema for `checks`

Optional:

- **active** (Attributes) (see [below for nested schema](#nestedatt--checks--active))
- **passive** (Attributes) (see [below for nested schema](#nestedatt--checks--passive))

<a id="nestedatt--checks--active"></a>
### Nested Schema for `checks.active`

Optional:

- **concurrency** (Number) The number of targets to be checked at the same time during the active check
- **healthy** (Attributes) (see [below for nested schema](#nestedatt--checks--active--healthy))
- **host** (String) The hostname of the HTTP request actively checked
- **http_path** (String) The HTTP request path that is actively checked
- **https_verify_certificate** (Boolean) Active check whether to check the SSL certificate of the remote host when HTTPS type checking is used
- **port** (Number) The host port of the HTTP request that is actively checked
- **req_headers** (List of String) Active check When using HTTP or HTTPS type checking, set additional request header information
- **timeout** (Number) The timeout period of the active check (unit: second)
- **type** (String) The type of active check
- **unhealthy** (Attributes) (see [below for nested schema](#nestedatt--checks--active--unhealthy))

<a id="nestedatt--checks--active--healthy"></a>
### Nested Schema for `checks.active.healthy`

Optional:

- **http_statuses** (List of Number) Active check (healthy node) HTTP or HTTPS type check, the HTTP status code of the healthy node
- **interval** (Number) Active check (healthy node) check interval (unit: second)
- **successes** (Number) Active check (healthy node) check interval (unit: second)


<a id="nestedatt--checks--active--unhealthy"></a>
### Nested Schema for `checks.active.unhealthy`

Optional:

- **http_failures** (Number) Active check (unhealthy node) HTTP or HTTPS type check, determine the number of times that the node is not healthy
- **http_statuses** (List of Number) Active check (unhealthy node) HTTP or HTTPS type check, the HTTP status code of the non-healthy node
- **interval** (Number) Active check (unhealthy node) check interval (unit: second)
- **tcp_failures** (Number) Active check (unhealthy node) TCP type check, determine the number of times that the node is not healthy
- **timeouts** (Number) Active check (unhealthy node) to determine the number of timeouts for unhealthy nodes



<a id="nestedatt--checks--passive"></a>
### Nested Schema for `checks.passive`

Optional:

- **healthy** (Attributes) (see [below for nested schema](#nestedatt--checks--passive--healthy))
- **unhealthy** (Attributes) (see [below for nested schema](#nestedatt--checks--passive--unhealthy))

<a id="nestedatt--checks--passive--healthy"></a>
### Nested Schema for `checks.passive.healthy`

Optional:

- **http_statuses** (List of Number) Passive check (healthy node) HTTP or HTTPS type check, the HTTP status code of the healthy node
- **successes** (Number) Passive checks (healthy node) determine the number of times a node is healthy


<a id="nestedatt--checks--passive--unhealthy"></a>
### Nested Schema for `checks.passive.unhealthy`

Optional:

- **http_failures** (Number) Passive check (unhealthy node) The number of times that the node is not healthy during HTTP or HTTPS type checking
- **http_statuses** (List of Number) Passive check (unhealthy node) HTTP or HTTPS type check, the HTTP status code of the non-healthy node
- **tcp_failures** (Number) Passive check (unhealthy node) When TCP type is checked, determine the number of times that the node is not healthy
- **timeouts** (Number) Passive checks (unhealthy node) determine the number of timeouts for unhealthy nodes




<a id="nestedatt--keepalive_pool"></a>
### Nested Schema for `keepalive_pool`

Optional:

- **idle_timeout** (Number)
- **requests** (Number)
- **size** (Number)


<a id="nestedatt--nodes"></a>
### Nested Schema for `nodes`

Optional:

- **host** (String)
- **port** (Number)
- **weight** (Number)


<a id="nestedatt--timeout"></a>
### Nested Schema for `timeout`

Optional:

- **connect** (Number)
- **read** (Number)
- **send** (Number)


<a id="nestedatt--tls"></a>
### Nested Schema for `tls`

Optional:

- **client_cert** (String)
- **client_key** (String)


